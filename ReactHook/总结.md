![](https://tva1.sinaimg.cn/large/007S8ZIlgy1geq4332pxej30wn0ic75l.jpg)


```jsx
function App(){
  useEffect(()=>{
    //componentDiMount
    return ()=>{
       //componentWillUnMount
    }
  },[])
}
  let renderCounter = useRef(0);
  renderCounter.current ++;

  useEffect(())=>{
    if(renderCount> 1){
       //componentDidUpdate
    }
  }


```

# 类实例成员变量如何映射到hooks;

```jsx
class App extend Component(){
  const it = 0
}



function App(){
  const it = useRef(0)
}

```

# hooks中如何获取历史props 和state

```jsx
function Counter(){
  const [count, setCount] = useState(0);

  const prevCountRef = useRef();


  useEffect(()=>{
    preCountRef.current = count;
  })


  const prevCount = prevCountRef.current;

  return <h1>Now: {count}, before: {prevCount}</h1>

}
```

用副作用来同步 count 的值

# 如何强制更新一个hoos 组件

```jsx
function forceUpdate(){
  setUpdater(updater => updater + 1)
}


```